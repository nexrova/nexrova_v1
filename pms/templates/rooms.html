{% extends "base.html" %}
{% block title %}Rooms - {{ hotel.name }}{% endblock %}
{% block page_title %}Room Management{% endblock %}

{% block content %}
<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <div>
            <h2>All Rooms</h2>
            <p style="color: var(--text-secondary); margin-top: 5px;">Manage room availability and pricing</p>
        </div>
        <div>
            <a href="/dashboard" class="btn btn-secondary">
                <i class="fas fa-chart-line"></i> Dashboard
            </a>
        </div>
    </div>
</div>

<div class="rooms-grid">
    {% for room in rooms %}
    <div class="room-card">
        <div class="room-header">
            <div class="room-number">
                <i class="fas fa-door-closed"></i>
                <span>{{ room.room_number }}</span>
            </div>
            <div class="room-status {{ room.status }}">
                {{ room.status|upper }}
            </div>
        </div>
        
        <div class="room-details">
            <h3>{{ room.room_type }}</h3>
            
            <div class="room-info">
                <div>
                    <i class="fas fa-rupee-sign"></i>
                    <span>â‚¹{{ room.base_price }}/night</span>
                </div>
                <div>
                    <i class="fas fa-building"></i>
                    <span>Floor {{ room.floor }}</span>
                </div>
            </div>
            
            {% if room.amenities %}
            <div class="room-amenities">
                {% for amenity in room.amenities[:3] %}
                <span>{{ amenity }}</span>
                {% endfor %}
            </div>
            {% endif %}
            
            {% if room.current_guest %}
            <div class="room-guest">
                <i class="fas fa-user"></i>
                <div>
                    <strong>{{ room.current_guest.name }}</strong>
                    <small>Check-out: {{ room.current_guest.check_out }}</small>
                </div>
            </div>
            {% endif %}
        </div>
        
        <div class="room-actions">
            <a href="/rooms/edit/{{ room.room_id }}">
                <i class="fas fa-edit"></i> Edit
            </a>
        </div>
    </div>
    {% endfor %}
</div>

{% if not rooms %}
<div class="card">
    <div style="text-align: center; padding: 3rem; color: var(--text-secondary);">
        <i class="fas fa-door-open" style="font-size: 48px; margin-bottom: 20px; color: var(--text-light);"></i>
        <h3>No rooms found</h3>
        <p>Rooms will appear here once they are added to the system.</p>
    </div>
</div>
{% endif %}
{% endblock %}
